<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Facture {{ invoice.number }}</title>
</head>
<body>

<div class="invoice-page">

    <div class="invoice-content">

        <div class="header">
            <div>
                <h1>FACTURE</h1>
                <div>Numéro : {{ invoice.number }}</div>
                <div>Date : {{ invoice.date.strftime('%d/%m/%Y') }}</div>
            </div>
            {% if logo_path %}
            <img src="{{ logo_path }}" class="logo">
            {% endif %}
        </div>

        <div class="block">
            <strong>{{ company.first_name }} {{ company.last_name }}</strong><br>
            {{ company.address }}<br>
            Tél : {{ company.phone }}<br>
            Email : {{ company.email }}<br>
            SIRET : {{ company.siret }}
        </div>

        <div class="block">
            <strong>Facturé à :</strong><br>
            {{ client.last_name }} {{ client.first_name }}<br>
            {{ client.address }}<br>
            Tél : {{ client.phone }}<br>
            Email : {{ client.email }}
        </div>

        <div class="block">
            <strong>Moyen de paiement :</strong> {{ invoice.payment_method|capitalize }}
        </div>

        <table class="items">
            <thead>
                <tr>
                    <th>Désignation</th>
                    <th>Prix unitaire</th>
                    <th>Qté</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                {% for item in items %}
                <tr>
                    <td>Séance de {{ item.description }}</td>
                    <td>{{ '%.2f' % item.unit_price }} €</td>
                    <td>{{ item.quantity }}</td>
                    <td>{{ '%.2f' % item.total }} €</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <table class="totals">
            <tr>
                <td>Total HT</td>
                <td>{{ '%.2f' % invoice.total }} €</td>
            </tr>
            <tr>
                <td>TVA</td>
                <td>0 €</td>
            </tr>
            <tr class="grand-total">
                <td>Total à payer</td>
                <td>{{ '%.2f' % invoice.total }} €</td>
            </tr>
        </table>

    </div>

    <footer class="invoice-footer">
        Paiement comptant – TVA non applicable, art. 293B du CGI<br>
        Contact : {{ company.email }} / {{ company.phone }}
    </footer>

</div>

</body>
</html>
